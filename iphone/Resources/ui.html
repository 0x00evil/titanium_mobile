<html>
<head>
<meta http-equiv="content-type" content="text-html; charset=utf-8">
<style>body{background-color:#fff;margin-top:20px;font-size:11px} .passed{color:#090} .failed{color:#900} #summary{margin:0;margin-bottom:10px;padding:10px;border-bottom:1px solid #bbb;font-size:18px;} h1 {margin-bottom:0}</style>
<script>
	function $(id)
	{
		return document.getElementById(id);
	}
	window.onload = function()
	{
		try{
		var btn1 = Ti.UI.createButton({title:'yum'});
		btn1.style = Ti.UI.iPhone.SystemButtonStyle.BORDERED;
		btn1.width = 50;
//		btn1.addEventListener('click',function(){var newWindow = Ti.UI.createWindow({url:'ui.html',barColor:'green'});newWindow.open();})
		btn1.addEventListener('click',function(){var newWindow = Ti.UI.createWindow({url:'ui.html',barColor:'rgba(0,255,0,1.0)',backButtonTitle:'green'});newWindow.open();})
//		Ti.UI.currentWindow.setRightNavButton(btn1);
		var btn2 = Ti.UI.createButton({systemButton:'play'});
		var btn3 = Ti.UI.createButton({systemButton:'pause'});
//		btn2.addEventListener('click',function(){var newWindow = Ti.UI.createWindow({url:'ui.html',barColor:'black'});newWindow.open();})
		btn2.addEventListener('click',function(){var newWindow = Ti.UI.createWindow({url:'ui.html',barColor:'rgb(0,0,0)',backButtonTitle:'black',hideNavBar:true});newWindow.open({modal:true});})
		btn3.addEventListener('click',function(){var newWindow = Ti.UI.createWindow({url:'ui.html',barColor:'transparent',backButtonTitle:'clear'});newWindow.open();})
		var btn4 = Ti.UI.createButton({systemButton:'action'});
		btn4.addEventListener('click',function(){var newWindow = Ti.UI.createWindow({url:'ui.html',barColor:null,backButtonTitle:'default'});newWindow.open({modal:true});})

		var btn5 = Ti.UI.createButton({title:'Moo'});
		btn5.addEventListener('click',function(){Ti.UI.currentWindow.setFullscreen(true);});

		var sideBtn = Ti.UI.createButton({width:16,height:16,title:'Y',style:Ti.UI.iPhone.SystemButtonStyle.PLAIN});
		var btn6 = Ti.UI.createTextField({borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,min:-1,max:10,leftButton:sideBtn,leftButtonMode:Ti.UI.INPUT_BUTTONMODE_ALWAYS,clearButtonMode:Ti.UI.INPUT_BUTTONMODE_ALWAYS,hintText:'Hint me!',id:'sliderPlace',keyboardType:Ti.UI.KEYBOARD_EMAIL_ADDRESS,textAlign:'center',color:'red',backgroundColor:'blue',borderColor:'green'});
//		btn6.width=100;
		btn6.addEventListener('change',function(foo){document.getElementById('sliderValue').innerHTML='Newvalue' + foo.value;});
//		btn6.addEventListener('valuechange',function(foo){
//			var msg = 'Value: ' + foo.value;
//			$('sliderValue').
//			var alerty = Titanium.UI.createAlertDialog();
//			alerty.setTitle(msg);
//			alerty.show();
//		},false);

//		btn6.bindToDiv($('sliderPlace'));
//		Ti.UI.currentWindow.insertButton(btn6);
//		btn6.focus();
		var btn7 = Ti.UI.createButton({systemButton:'fastforward'});
function test1()
{
try{
	var data = [
		{title:'row 1', hasChild:true,fontWeight:'bold',fontSize:'36px'},
		{title:'row 2', hasDetail:true,fontWeight:'normal',fontSize:'6px'},
		{title:'row 3'},
		{html:'<b>row</b> 4 has <i>html?</i>',selected:true},

		{title:'row 1', hasChild:true, image:'Mail.png'},
		{title:'row 2', hasDetail:true, image:'Safari.png'},
		{title:'row 3', image:'Phone.png'},
		{title:'row 4', image:'iTunes.png'},

		{title:'row 1', hasChild:true, image:'Mail.png'},
		{title:'row 2', hasDetail:true, image:'Safari.png'},
		{title:'row 3', image:'Phone.png'},
		{title:'row 4', image:'iTunes.png'},

		{title:'row 1', header:'Header 1', hasChild:true, },
		{title:'row 2', hasDetail:true},
		{title:'row 3'},
		{title:'row 4'},
		{title:'row 5', header:'Header 2', hasChild:true, },
		{title:'row 6', hasDetail:true},
		{title:'row 7'},
		{title:'row 8'},
		{title:'row 9', header:'Header 3', hasChild:true, },
		{title:'row 10', hasDetail:true},
		{title:'row 11',selected:true},
		{title:'row 12'},

		{html:'<div><div style="font-weight:bold;font-size:18px">Row 1</div><div style="font-size:11px;margin-top:5px;>row 1 detail...</div></div>"',hasChild:true},
		{html:'<div><div style="font-weight:bold;font-size:18px">Row 2</div><div style="font-size:11px;margin-top:5px;>row 2 detail...</div></div>"',hasChild:true},
		{html:'<div><div style="font-weight:bold;font-size:18px">Row 3</div><div style="font-size:11px;margin-top:5px;>row 3 detail...</div></div>"',selected:true},
		{html:'<div><div style="font-weight:bold;font-size:18px">Row 4</div><div style="font-size:11px;margin-top:5px;>row 4 detail...</div></div>"'},
		{html:'<div><div style="font-weight:bold;font-size:18px">Row 5</div><div style="font-size:11px;margin-top:5px;>row 5 detail...</div></div>"'}		


	];
	tableView = Titanium.UI.createTableView({data:data,rowHeight:80}, function(eventObject) {
		var rowData = eventObject.rowData;

		var section = eventObject.section;
		var row = eventObject.row;
		var index = eventObject.index;
		var detail = eventObject.detail;
		if (index > 0){
			Titanium.UI.createAlertDialog({message:(
				'ROWDATA = ' + rowData +
				', SECTION = ' + section +
				', ROW = ' + row +
				', INDEX = ' + index +
				', DETAIL = ' + detail
			)}).show();
		} else {
			var win = Titanium.UI.createWindow({
				url:'buggy.html',
				title:'Tabbar Hide',
				hideTabBar:true,
				hideNavBar:true
			});
			win.open({animated:true});		
		}
		tableView.deleteRow(index,{animationStyle:Ti.UI.iPhone.RowAnimationStyle.LEFT});
	});
	
	var insertButton = Ti.UI.createButton({systemButton:Ti.UI.iPhone.SystemButton.ADD});
	insertButton.addEventListener('click',function(e){
		tableView.updateRow(0,{title:'row 1', header:'Header 1', hasChild:true, },
//		tableView.insertRowBefore(1,{title:'row 1', header:'Header 1', hasChild:true, },
//		tableView.setData([{title:'row 1', header:'Header 1', hasChild:true, }],
		{animationStyle:Ti.UI.iPhone.RowAnimationStyle.LEFT}
		)});
//	Titanium.UI.currentWindow.addView(tableView);
//	Titanium.UI.currentWindow.showView(tableView);
	var tableWindow = Ti.UI.createWindow({views:[tableView],rightNavButton:insertButton});
	tableWindow.open({animated:true});
} catch(E){Titanium.UI.createAlertDialog({title:"Error!",message:('Msg:'+E)}).show();};
};
		btn7.addEventListener('click',test1);


function test2()
{
try{
	var buttonData = [
		{title:'Button 1', image:'images/one.png'},
		{title:'Button 2', image:'images/two.png'}
	];

	var buttonSection = Titanium.UI.iPhone.createGroupedSection({type:'button',data:buttonData});
	buttonSection.addEventListener('click',function(e)
	{
		Titanium.UI.createAlertDialog({title:"Click!",message:('Button:'+e.index)}).show();
	});

	var optionData = [
		{title:'Option 1', image:'images/one.png'},
		{title:'Option 2', image:'images/two.png', selected:true},
		{title:'Option 3', image:'images/three.png'}	
	];

	var optionSection = Titanium.UI.iPhone.createGroupedSection({type:'option', data:optionData});
	optionSection.addEventListener('click',function(e)
	{
		Titanium.UI.createAlertDialog({title:"Option!",message:('Button:'+e.index)}).show();
	});

	var switchInstance = Titanium.UI.createTextField({value:'More text',width:170});
	switchInstance.addEventListener('change',function(foo){document.getElementById('sliderValue').innerHTML='NewText: ' + foo.value;});
	switchInstance.addEventListener('return',function(foo){
		var msg = typeof(foo.target.blur) + 'value: ' + typeof(foo.target._TOKEN);
		try{
			switchInstance.blur();
		}catch(E){msg=E}
		Ti.UI.createAlertDialog({title:'return',message:msg}).show();
	});

//	var switchInstance = Ti.UI.createButton('activity');

	var inputData = [
		{title:'Input 1', image:'images/one.png', input:switchInstance},
		{title:'Input 2', image:'images/two.png', value:'foo', hasChild:true},
		{title:'Input 3', image:'images/three.png'}	
	];

	var inputSection = Titanium.UI.iPhone.createGroupedSection({type:'input', data:inputData});
	inputSection.addEventListener('click',function(e)
	{
		Titanium.UI.createAlertDialog({title:"Input!",message:('Button:'+e.index)}).show();
	});
	var groupedView = Titanium.UI.iPhone.createGroupedView();
//{data:data,rowHeight:80}, function(eventObject) {
//		var rowData = eventObject.rowData;
//
//		var section = eventObject.section;
//		var row = eventObject.row;
//		var index = eventObject.index;
//		var detail = eventObject.detail;
//		Titanium.UI.createAlertDialog({message:(
//			'ROWDATA = ' + rowData +
//			', SECTION = ' + section +
//			', ROW = ' + row +
//			', INDEX = ' + index +
//			', DETAIL = ' + detail
//		)}).show();
//	});
	groupedView.addSection(optionSection);
	groupedView.addSection(buttonSection);
	groupedView.addSection(inputSection);
	groupedView.isPrimary=true;
	groupedView.title="I'm the root view?";
//	groupedView.setLeftNavButton(Ti.UI.createButton({systemButton:'rewind'}));

//	groupedView.setLeftNavButton(null);
	groupedView.open({animated:false});
} catch(E){Titanium.UI.createAlertDialog({title:"Error!",message:('Msg:'+E)}).show();};
};
		var btn8 = Ti.UI.createButton({systemButton:'rewind'});
		btn8.addEventListener('click',test2);
//		test2();

		var multiBtn = Ti.UI.createButtonBar({labels:['fee','fi','fo','fum'],color:'white',backgroundColor:'blue'});
		function reportEvent(e){Titanium.UI.createAlertDialog({title:"Thing happened!",message:"You clicked "+e.index}).show();};
		multiBtn.addEventListener('click',reportEvent);

		var multiBtn2 = Ti.UI.createTabbedBar({labels:['fee','fi','fo','fum'],color:'red',backgroundColor:'#CCCCCC',index:2});
		multiBtn2.addEventListener('click',reportEvent);

		Ti.UI.currentWindow.setRightNavButton(btn8);
		Ti.UI.currentWindow.setToolbar([btn1,btn2,btn3,btn4,btn5,btn7]);
//		Ti.UI.currentWindow.setToolbar([btn1,btn2,multiBtn2]);
		Ti.UI.currentWindow.setTitleControl(multiBtn);
		
		Titanium.Gesture.addEventListener('shake',function(){
			var alerty = Titanium.UI.createAlertDialog();
			alerty.setTitle("Not stirred!");
			alerty.show();
		},false);

//		var btn8 = Ti.UI.createButton({title:'moo',id:'buttony',image:'Safari.png'});

		var btn8 = Ti.UI.createButton({title:'moo',id:'buttony',image:'Safari.png',backgroundImage:'Mail.png',fontWeight:'bold',fontSize:'36px'});
//		btn8.width=100;
		btn8.addEventListener('click',function(foo){document.getElementById('sliderValue').innerHTML='Clicked!';});

//		btn8.bindToDiv($('buttony'));


//		Titanium.Gesture.addEventListener('orientationchange',function(evt){
//			var alerty = Titanium.UI.createAlertDialog();
//			alerty.setTitle("Woah!");
////			alerty.setMessage('Tilty!');
//			alerty.setMessage('We went from ' + evt.from + ' to ' + evt.to +
//				', which is landscape?' + Ti.Gesture.isLandscape(evt.to) +
//				', or Portrait?' + Ti.Gesture.isPortrait(evt.to));
//
//			alerty.show();
//		},false);

	Ti.UI.currentWindow.addEventListener('focused',function(evt){Ti.API.info('Focused!')});
	Ti.UI.currentWindow.addEventListener('unfocused',function(evt){Ti.API.info('Unfocused!')});



//	Titanium.UI.createTextElement('text',true);
//	Titanium.UI.setPropertyBackground();
//	var data= [
//		{title:'From',type:'readonly',value:'-',id:'from'},
//		{title:'To',type:'readonly',value:'-',id:'to'}
//	];
//	Titanium.UI.createGroupedView('orientation','input',data,function(index){});
	
	var a = Titanium.UI.createAlertDialog();
	a.setTitle('Orientation Test');
	a.addEventListener('click', function(resulty) {
		var E="success";
		try{
		Titanium.API.debug({type:resulty.type,index:resulty.index,cancel:resulty.cancel});
		}catch(newE){E=newE;}
		Titanium.UI.createAlertDialog({title:"Log!",message:('Msg:'+E)}).show();
	});
	a.setButtonNames(['OK']);
	
	// trap orientation change
	Titanium.Gesture.addEventListener('orientationchange',function(e)
	{	
		if (Titanium.Gesture.isLandscape(e.to))
		{
			a.setMessage('Orientation is Landscape');
			a.show();

		} else if (Titanium.Gesture.isPortrait(e.to)) {
			a.setMessage('Orientation is Portrait');
			a.show();
		} else {
			a.setMessage('Orientation is Unknown');
			a.show();
		}
		
		document.getElementById('from').innerHTML = textFor(e.from);
		document.getElementById('to').innerHTML = textFor(e.to);
	});

		}catch(E){var alerty=Titanium.UI.createAlertDialog();alerty.setMessage('Error:'+E);alerty.show();}



	};
//	alert('Orientation:' + window.orientation);
	function showOptionsDialog()
	{
		// create dialog
		var dialog = Titanium.UI.createOptionDialog();

		// set button titles
		dialog.setOptions(["Pick A","Pick B","cancel"]);

		// set index for destructive button (IPHONE ONLY)
		dialog.setDestructive(1);

		// set index for cancel (IPHONE ONLY)
		dialog.setCancel(2);

		// set title
		dialog.setTitle('My Title');

		// add event listener
		dialog.addEventListener('click',function(event)
		{
			var a = Titanium.UI.createAlertDialog();
			a.setMessage('you clicked ' + event.index);
			a.show();
		});

		// show dialog
		dialog.show();
		
	};


	function openPhotoGallery()
	{
		Titanium.Media.openPhotoGallery({
			success: function(image,details)
			{
				var win = Titanium.UI.createWindow();
				win.setURL('image.html');
				Titanium.App.Properties.setString('photo',image.url);
				if (details) {
					Titanium.App.Properties.setString('x',details.cropRect.x);
					Titanium.App.Properties.setString('y',details.cropRect.y);
					Titanium.App.Properties.setString('height',details.cropRect.height);
					Titanium.App.Properties.setString('width',details.cropRect.width);
				} else {
					Titanium.App.Properties.setString('x',0);
					Titanium.App.Properties.setString('y',0);
					Titanium.App.Properties.setString('height',image.height);
					Titanium.App.Properties.setString('width',image.width);
				}
				win.open({animated:true});
			},
			error: function(error)
			{
				Titanium.UI.createAlertDialog( {
					title: "Error from Gallery",
					message: error.message,
					buttonNames: OK
				} ).show();
			},
			cancel: function()
			{

			},
			allowImageEditing:true
		});
		
	};



</script>
</head>
<body>
	<button onclick="Ti.UI.currentWindow.close()">Close window</button>

	<button onclick="alert('Testing')">Alert</button>
	<button onclick="try{var ourAlert=Ti.UI.createAlertDialog({message:'foo'});ourAlert.show();}catch(E){alert('E:'+E)}">Alert</button>

	<hr>
	Landscape: <script>document.write(Ti.Gesture.LANDSCAPE);</script><br>
	isLandscape: <script>document.write(Ti.Gesture.isLandscape(Ti.Gesture.LANDSCAPE_LEFT));</script><br>
	1&1: <script>document.write(1 & 1);</script><br>
	Landscape: <script>document.write(Ti.Gesture.LANDSCAPE);</script><br>
	Landscape: <script>document.write(Ti.Gesture.LANDSCAPE);</script><br>
	Landscape: <script>document.write(Ti.UI.LANDSCAPE);</script><br>

żźćłóąś
	<a href="tel:1234567">Call me</a>
	<div id='buttony' style='position:absolute;top:200;right:120;width:200px;height:80px'>Button goes here!</div>
	<!--div id='buttony' style=''>Button goes here!</div-->
	<a href="tel:1234567">Call me</a>
	
	<div id='sliderValue'>Unchanged slider value!</div>

	<!--div id='sliderPlace' style="width:200px;height:70px;"></div-->
	<div id='sliderPlace' style="width:150px"></div>
	<button onclick="showOptionsDialog()">
	
</body>
</html>