<html>
<head>
<style>
.button
{
	font-size:18px;width:280px;text-align:center
}
</style>
</head>
<body style="background-color:#fff;font-size:20px;font-family:'Helvetica Neue';font-weight:bold">

<button onclick="Titanium.UI.currentWindow.showView(Titanium.UI.currentWindow.getViewByName('number1'),{animated:true,animationStyle:Ti.UI.iPhone.AnimationStyle.CURL_UP,animationDuration:2000})">Switch by name "number1"</button>
	
	
	<script>
			Titanium.Media.openPhotoGallery({
			success: function(image,details)
			{
				Ti.API.debug('Checkpoint 1');
				var win = Titanium.UI.createWindow();
				Ti.API.debug('Checkpoint 2');
				win.setURL('misc.html');
				Ti.API.debug('Checkpoint 3');
				Titanium.App.Properties.setString('photo',image.url);
				Ti.API.debug('Checkpoint 4');
				if (details) {
					Titanium.App.Properties.setString('x',details.cropRect.x);
					Titanium.App.Properties.setString('y',details.cropRect.y);
					Titanium.App.Properties.setString('height',details.cropRect.height);
					Titanium.App.Properties.setString('width',details.cropRect.width);
				} else {
					Titanium.App.Properties.setString('x',0);
					Titanium.App.Properties.setString('y',0);
					Titanium.App.Properties.setString('height',image.height);
					Titanium.App.Properties.setString('width',image.width);
				}
				Ti.API.debug('Checkpoint 5');
				win.open({animated:true});
				Ti.API.debug('Checkpoint 6');
			},
			error: function(error)
			{
				Titanium.UI.createAlertDialog( {
					title: "Error from Gallery",
					message: error.message,
					buttonNames: OK
				} ).show();
			},
			cancel: function()
			{

			},
			allowImageEditing:true
		});
		</script>
</body>
</html>