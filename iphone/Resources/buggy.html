<html>
<head>
<style>
.button
{
	font-size:18px;width:280px;text-align:center
}
</style>
</head>
<body style="background-color:#fff;font-size:20px;font-family:'Helvetica Neue';font-weight:bold">

	<div><input type="button" id="1" value="Launch Email" class="button"/></div>

	<script>
	document.getElementById('1').onclick = function()
	{
		Titanium.Media.openPhotoGallery({
			success: function(image,details)
			{
				var emailDialog = Titanium.UI.createEmailDialog()
				emailDialog.setSubject('foo');
				emailDialog.setToRecipients(['nolan11169@yahoo.com']);
				emailDialog.setCcRecipients(['nwright@appcelerator.com']);
				emailDialog.setBccRecipients(['obama@whitehouse.gov']);
				emailDialog.setMessageBody('this is a test message');
				emailDialog.addAttachment({mimeType:'image/png', file:image});
				emailDialog.open({animated:true});

			},
			error: function(error)
			{
			},
			cancel: function()
			{

			},
			animated:true,
			allowImageEditing:true,
		});
		
	};

	</script>
</body>
</html>